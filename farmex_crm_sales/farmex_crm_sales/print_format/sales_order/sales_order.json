{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-09-27 15:31:48.449113",
 "css": " body {\n     margin: 0;\n     padding: 0;\n}\ntable{\n    border-collapse:collapse;\n}\n .print-format td, .print-format th {\n     padding: 2px !important;\n}\n .border-none {\n     border-top: none !important;\n}\n .h5 {\n     margin-top: 1px !important;\n     margin-bottom: 1px !important;\n}\n .address table {\n     width: 100%;\n     border-collapse: collapse;\n}\n .address td {\n     width: 33%;\n     padding: 10px;\n     vertical-align: top;\n}\n img {\n     max-width: 100%;\n     height: auto;\n}\n .si-details {\n     border: 1px solid black;\n}\n .si-details table {\n     border: none;\n}\n .si-details tr, .si-details td {\n     padding: 5px;\n}\n .so-items th {\n     border: 1px solid black;\n     border-collapse: collapse;\n}\n .so-items td {\n     border-left: 1px solid black;\n     border-right: 1px solid black;\n     border-collapse: collapse;\n}\n .total-row td {\n     border: 1px solid black;\n     border-collapse: collapse;\n}\n .so-items th{\n     background-color:#E5FBE0;\n     color:black;\n     font-weight:bold;\n     text-align:center;\n}\n body:last-child .print-format td img {\n     width: auto !important;\n}\n .width-5{\n     width:5%;\n}\n .width-8{\n     width:8%;\n}\n .width-10{\n     width:10%;\n}\n .width-30{\n     width:30%;\n}\n .width-20{\n     width:15%;\n}\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Order",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set company = frappe.get_doc(\"Company\", doc.company) %}\n<html>\n    <body>\n        <table class=\"address\" width=\"100%\">\n            <tr>\n                <td>\n                    <b>\n                        {% if doc.company_address_display %}\n                        <h2 style=\"font-weight: bold;\">{{ doc.company }}</h2>\n                        {% set company_address = frappe.get_doc(\"Address\", doc.company_address) %} {% set address_line1 = company_address.address_line1 or \"\" %} {% set city = company_address.city or \"\" %} {% set pincode =\n                        company_address.pincode or \"\" %} {% set country = company_address.country or \"\" %} {% set fax = company_address.fax or \"\" %} {% set emirate = company_address.emirate or \"\" %} {% set phone = company_address.phone or\n                        \"\" %}\n                        <div>P.O.Box: {{ pincode }}, {{ address_line1 }}, {{ city }} {{ emirate }} {{ country }}</div>\n                        <div>H.0, TEL: {{ phone }}, FAX: {{ fax }}</div>\n                        <div>WH TEL: , FAX:</div>\n                        {% endif %}\n                        <div>Email: {{ company.email or \"\" }}<br /></div>\n                        <div>Web: {{ company.website or \"\" }}</div>\n                        <div>TRN NO: {{ company.tax_id }}</div>\n                    </b>\n                </td>\n                <td style=\"text-align: end;\">\n                    <div>\n                        <img style=\"width: 30px;\" src=\"/files/far-logo-1-180x135.png\" alt=\"\" />\n                    </div>\n                    <div>AN HACCP CERTIFIED COMPANY</div>\n                </td>\n            </tr>\n            <tr>\n                <td colspan=\"2\" class=\"h2\" style=\"text-align: center; font-weight: bold;\">\n                    Sales Order\n                </td>\n            </tr>\n        </table>\n        <table width=\"100%\" class=\"si-details\">\n            <tr>\n                <td width=\"50%\">\n                    <b>CUSTOMER NAME:</b> {{ doc.customer }} {% if doc.customer_address %} {% set customer_address = frappe.get_doc(\"Address\", doc.customer_address) %} {% if customer_address %} {% set address_line1 =\n                    customer_address.address_line1 or \"\" %} {% set city = customer_address.city or \"\" %} {% set pincode = customer_address.pincode or \"\" %} {% set country = customer_address.country or \"\" %} {% set fax = customer_address.fax\n                    or \"\" %} {% set emirate = customer_address.emirate or \"\" %} {% set phone = customer_address.phone or \"\" %}\n                    <br />\n                    TEL: {{ fax or \"\" }}, MOB: {{ phone or \"\" }}\n                    <br />\n                    {% if address_line1 %} {{ address_line1 }}{% if city or emirate or country %}, {% endif %} {% endif %} {% if city %} {{ city }}{% if emirate or country %}, {% endif %} {% endif %} {% if emirate %} {{ emirate }}{% if\n                    country %}, {% endif %} {% endif %} {% if country %} {{ country }} {% endif %} {% else %}\n                    <p style=\"color: red;\">Address not found for customer ID: {{ doc.customer_address }}</p>\n                    {% endif %} {% else %}\n                    <p></p>\n                    {% endif %}\n                    <br />\n                    <b>TRN No: {% set customer_tax = frappe.get_doc(\"Customer\", doc.customer) %} {{ customer_tax.tax_id or \"\" }}</b>\n                </td>\n                <td width=\"50%\" style=\"padding: 0 !important;\">\n                    <table style=\"border-collapse: collapse; width: 100%; border: none;\">\n                        <tr>\n                            <td style=\"border: 1px solid black; padding: 0; border-top: none;\"><b>ORDER NO.</b></td>\n                            <td style=\"border: 1px solid black; padding: 0; border-top: none; border-right: none;\">{{ doc.get_formatted(\"name\") }}</td>\n                        </tr>\n                        <tr>\n                            <td style=\"border: 1px solid black; padding: 0;\"><b>ORDER DATE:</b></td>\n                            <td style=\"border: 1px solid black; padding: 0; border-right: none;\">{{ doc.get_formatted(\"transaction_date\") }}</td>\n                        </tr>\n                        <tr>\n                            <td style=\"border: 1px solid black; padding: 0;\"><b>SUPPLY DATE:</b></td>\n                            <td style=\"border: 1px solid black; padding: 0; border-right: none;\">{{ doc.get_formatted(\"delivery_date\") }}</td>\n                        </tr>\n                        <tr>\n                            <td style=\"border: 1px solid black; padding: 0;\"><b>PAYMENT TERMS:</b></td>\n                            <td style=\"border: 1px solid black; padding: 0; border-right: none;\">{{doc.payment_terms_template or \"\"}}</td>\n                        </tr>\n                        <tr>\n                            <td style=\"border: 1px solid black; padding: 0;\"><b>SM:</b></td>\n                            <td style=\"border: 1px solid black; padding: 0; border-right: none;\"><b>{{doc.custom_sales_person or \"\"}}</b></td>\n                        </tr>\n                        <tr>\n                            <td style=\"border: 1px solid black; padding: 0; border-bottom: none;\"><b>SM MOBILE NO:</b></td>\n                            <td style=\"border: 1px solid black; padding: 0; border-right: none; border-bottom: none;\">\n                                <b>\n                                    {% if doc.custom_sales_person %} {% set sales_person_mobile = frappe.get_doc(\"Sales Person\", doc.custom_sales_person) %} {{ sales_person_mobile.custom_mobile_no or \"\" }} {% endif %}\n                                </b>\n                            </td>\n                        </tr>\n                    </table>\n                </td>\n            </tr>\n        </table>\n        <br />\n\n        <div class=\"page\">\n            {% set items_per_page_first = 23 %} {% set items_per_page_subsequent = 39 %} {% set total_items = doc.items | length %} {# Calculate total pages for subsequent items #} {% set remaining_items = total_items - items_per_page_first\n            %} {% set total_pages_subsequent = (remaining_items // items_per_page_subsequent) + (1 if remaining_items % items_per_page_subsequent > 0 else 0) %} {# Print first page with first 23 items #}\n            <table class=\"so-items\" width=\"100%\">\n                <tr>\n                    <th>SR. NO.</th>\n                    <th>ITEM</th>\n                    <th>UNIT</th>\n                    <th>QTY</th>\n                    <th>FOC</th>\n                    <th>RATE</th>\n                    <th>DISCOUNT</th>\n                    <th>RATE INCL VAT AFTER DISCOUNT</th>\n                    <th>VAT AMOUNT</th>\n                    <th>NET AMOUNT</th>\n                </tr>\n\n                {% for item in doc.items[0:items_per_page_first] %} {% set tax_rate = namespace(total=0) %} {% if item.item_tax_template %} {% set item_tax = frappe.get_doc(\"Item Tax Template\", item.item_tax_template) %} {% if item_tax and\n                item_tax.taxes %} {% for vat in item_tax.taxes %} {% if vat.tax_rate > 0 %} {% set tax_rate.total = tax_rate.total + vat.tax_rate %} {% endif %} {% endfor %} {% endif %} {% endif %}\n                <tr style=\"{% if loop.last %}border-bottom: 1px solid black;{% endif %}\">\n                    <td style=\"text-align: center;\">{{ loop.index }}</td>\n                    <td style=\"text-align: left;width:120px!important;\">{{item.item_name or \"\"}}</td>\n                    <td style=\"text-align: center;\">{{ item.uom or \"\" }}</td>\n                    <td style=\"text-align: right;\">{{ item.qty or \"\" }}</td>\n                    <td style=\"text-align: right;\"></td>\n                    <td style=\"text-align: right;\">{{ item.price_list_rate or \"\" }}</td>\n                    <td style=\"text-align: right;\">{{ item.discount_amount }}</td>\n                    <td style=\"text-align: right;\">\n                        {{ item.price_list_rate + (item.price_list_rate * tax_rate.total / 100) - item.discount_amount }}\n                    </td>\n                    <td style=\"text-align: right;\">{{ item.price_list_rate * tax_rate.total / 100 }}</td>\n                    <td style=\"text-align: right;\">{{ item.get_formatted(\"amount\" or \"\") }}</td>\n                </tr>\n                {% endfor %}\n            </table>\n\n            {# Page break for the first page only if more items exist #} {% if total_items > items_per_page_first %}\n            <div style=\"page-break-after: always;\"></div>\n            {% endif %} {# Print subsequent pages #} {% for page in range(total_pages_subsequent) %}\n            <table class=\"so-items\" width=\"100%\">\n                <tr>\n                    <th class=\"width-5\">SR. NO.</th>\n                    <th class=\"width-30\">ITEM DESCRIPTION</th>\n                    <th class=\"width-5\">UNIT</th>\n                    <th class=\"width-5\">QTY</th>\n                    <th class=\"width-5\">FOC</th>\n                    <th class=\"width-8\">RATE</th>\n                    <th class=\"width-10\">DISCOUNT</th>\n                    <th class=\"width-10\">RATE INCL VAT AFTER DISCOUNT</th>\n                    <th class=\"width-5\">VAT AMOUNT</th>\n                    <th class=\"width-15\">NET AMOUNT</th>\n                </tr>\n\n                {% for item in doc.items[(items_per_page_first + page * items_per_page_subsequent):(items_per_page_first + (page + 1) * items_per_page_subsequent)] %} {% set tax_rate = namespace(total=0) %} {% if item.item_tax_template %}\n                {% set item_tax = frappe.get_doc(\"Item Tax Template\", item.item_tax_template) %} {% if item_tax and item_tax.taxes %} {% for vat in item_tax.taxes %} {% if vat.tax_rate > 0 %} {% set tax_rate.total = tax_rate.total +\n                vat.tax_rate %} {% endif %} {% endfor %} {% endif %} {% endif %}\n                <tr style=\"{% if loop.last %}border-bottom: 1px solid black;{% endif %}\">\n                    <td style=\"text-align: center;\">{{ loop.index + items_per_page_first + page * items_per_page_subsequent }}</td>\n                    <td style=\"text-align: left;\">{{ item.description or \"\" }}</td>\n                    <td style=\"text-align: center;\">{{ item.uom or \"\" }}</td>\n                    <td style=\"text-align: right;\">{{ item.qty or \"\" }}</td>\n                    <td style=\"text-align: right;\"></td>\n                    <td style=\"text-align: right;\">{{ item.price_list_rate or \"\" }}</td>\n                    <td style=\"text-align: right;\">{{ item.discount_amount }}</td>\n                    <td style=\"text-align: right;\">\n                        {{ item.price_list_rate + (item.price_list_rate * tax_rate.total / 100) - item.discount_amount }}\n                    </td>\n                    <td style=\"text-align: right;\">{{ item.price_list_rate * tax_rate.total / 100 }}</td>\n                    <td style=\"text-align: right;\">{{ item.get_formatted(\"amount\" or \"\") }}</td>\n                </tr>\n\n                {% endfor %}\n            </table>\n\n            {# Page break after each page except the last one #} {% if not loop.last %}\n            <div style=\"page-break-after: always;\"></div>\n            {% endif %} {% endfor %} {# Total rows on the last page #}\n            <table class=\"so-items\" width=\"100%\">\n                <tr style=\"border-top: 1px solid black;\">\n                    <td class=\"width-5\">&nbsp;</td>\n                    <td class=\"width-30\" style=\"text-align: right;\">Sub Total</td>\n                    <td class=\"width-5\">&nbsp;</td>\n                    <td class=\"width-5\">&nbsp;</td>\n                    <td class=\"width-5\">&nbsp;</td>\n                    <td class=\"width-8\">&nbsp;</td>\n                    <td class=\"width-10\">&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td class=\"width-15\" style=\"border-top: 1px solid black; border-bottom: 1px solid black; text-align: right;\">\n                        {{ doc.get_formatted(\"total\" or \"\") }}\n                    </td>\n                </tr>\n                <tr>\n                    <td>&nbsp;</td>\n                    <td style=\"text-align: right;\">VAT</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td style=\"text-align: right;\">\n                        {{ doc.get_formatted(\"total_taxes_and_charges\" or \"\") }}\n                    </td>\n                </tr>\n                <tr class=\"total-row\">\n                    <td>&nbsp;</td>\n                    <td style=\"text-align: right; font-weight: bold;\">TOTAL</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td>&nbsp;</td>\n                    <td colspan=\"2\">&nbsp;</td>\n                    <td class=\"width-15\" style=\"text-align: right;\">\n                        {{ doc.get_formatted(\"grand_total\" or \"\") }}\n                    </td>\n                </tr>\n                <tr class=\"total-row\">\n                    <td colspan=\"7\">{{ doc.in_words }}</td>\n                    <td colspan=\"2\" style=\"text-align: center;\"><b>ROUND OFF</b></td>\n                    <td style=\"text-align: right;\">{{ doc.rounding_adjustment }}</td>\n                </tr>\n                <tr>\n                    <td colspan=\"7\" style=\"border-left: None;\"></td>\n                    <td colspan=\"2\" style=\"border-bottom: 1px solid black; text-align: center;\">\n                        <b>TOTAL AMOUNT</b>\n                    </td>\n                    <td class=\"width-15\" style=\"border-bottom: 1px solid black; text-align: right;\">\n                        {{ doc.grand_total }}\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </body>\n</html>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-12-17 10:19:28.702348",
 "modified_by": "Administrator",
 "module": "Farmex CRM Sales",
 "name": "Sales Order",
 "owner": "palak@gmail.com",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}